# 残課題・改善点

## 🚨 緊急度: 高

### Issue #1: Server-004 (DBC) Email通知未受信
**問題**: Server-004からのEmail通知が受信されていない

**詳細**:
- Lambda実行ログでは「Email notification sent successfully」
- SNSメトリクスでは送信済み
- 他の4サーバーは正常受信

**調査項目**:
- [ ] SNSサブスクリプションフィルターの確認
- [ ] Server-004固有の設定確認
- [ ] Gmail迷惑メールフォルダの確認
- [ ] SNS配信ログの詳細分析

**優先度**: 中  
**影響**: 1サーバーの通知のみ、監視機能は正常

---

## 🔧 緊急度: 中

### Issue #2: CodePipeline Deployステージの継続的失敗
**問題**: CodePipelineのDeployステージが継続的に失敗

**詳細**:
- Source・Buildステージは成功
- CloudFormationスタック自体は正常更新
- 手動SAMデプロイは成功

**調査項目**:
- [ ] CloudFormationアクションの詳細ログ分析
- [ ] CloudFormationServiceRoleの権限確認
- [ ] ParameterOverridesの形式確認
- [ ] Capabilitiesの設定見直し

**優先度**: 低  
**影響**: 手動デプロイで運用可能、CI/CD自動化のみ影響

**関連ファイル**: `CODEPIPELINE_ISSUE.md`

---

## 💡 緊急度: 低

### Issue #3: AWS Chatbot実装の検討
**問題**: AWS Chatbot実装が権限不足で未完了

**詳細**:
- `chatbot:CreateSlackChannelConfiguration`権限が不足
- 管理者権限での設定が必要
- Slack統合の代替手段として有効

**調査項目**:
- [ ] 管理者権限でのAWS Chatbot設定
- [ ] SlackワークスペースでのAWSアプリ承認
- [ ] SNSトピックとの連携設定

**優先度**: 低  
**影響**: Email通知で代替済み、追加機能として検討

---

## 🔍 緊急度: 低

### Issue #4: Route53ヘルスチェックの最適化
**問題**: 9個のヘルスチェックが存在、5個のみ使用中

**詳細**:
- 使用中: 5個 (各サーバー用)
- 未使用: 4個 (開発・テスト用の残骸?)
- コスト: $0.50/個/月

**調査項目**:
- [ ] 未使用ヘルスチェックの特定
- [ ] 安全な削除の実行
- [ ] コスト最適化 (最大$2.00/月削減可能)

**優先度**: 低  
**影響**: コスト最適化のみ

---

## 📊 緊急度: 低

### Issue #5: 監視メトリクスの拡張
**問題**: 基本的なヘルスチェックのみ実装

**改善案**:
- [ ] レスポンス時間の監視
- [ ] SSL証明書有効期限の監視
- [ ] カスタムメトリクスの追加
- [ ] ダッシュボードの作成

**優先度**: 低  
**影響**: 機能拡張、現在の監視は十分

---

## 🔄 緊急度: 低

### Issue #6: 通知内容の改善
**問題**: Email通知の内容が基本的

**改善案**:
- [ ] 通知テンプレートの改善
- [ ] 障害詳細情報の追加
- [ ] 復旧通知の実装
- [ ] 通知頻度の調整

**優先度**: 低  
**影響**: ユーザビリティ向上

---

## 📈 今後の拡張計画

### Phase 2: 機能拡張
- [ ] 複数チャンネルでの通知 (Email + Slack)
- [ ] 通知エスカレーション機能
- [ ] 監視対象サーバーの動的追加
- [ ] 詳細なダッシュボード作成

### Phase 3: 運用改善
- [ ] ログ分析の自動化
- [ ] 障害パターンの分析
- [ ] 予防保守の実装
- [ ] コスト最適化の継続

---

**作成日**: 2025-07-30  
**最終更新**: 2025-07-30  
**レビュー予定**: 必要に応じて
